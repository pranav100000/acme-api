<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Acme Corp - Dashboard</title>
  <link rel="stylesheet" href="/styles.css">
</head>
<body>
  <div id="app">
    <nav class="sidebar">
      <div class="sidebar-header">
        <h1>‚ö° Acme Corp</h1>
        <span class="subtitle">Internal Dashboard</span>
      </div>
      <ul class="nav-links">
        <li><a href="#" data-page="dashboard" class="nav-link active">üìä Dashboard</a></li>
        <li><a href="#" data-page="users" class="nav-link">üë• Users</a></li>
        <li><a href="#" data-page="teams" class="nav-link">üè¢ Teams</a></li>
        <li><a href="#" data-page="auth" class="nav-link">üîê Auth</a></li>
      </ul>
      <div class="sidebar-footer">
        <div class="health-status" id="healthStatus">
          <span class="status-dot"></span>
          <span>Checking API...</span>
        </div>
      </div>
    </nav>

    <main class="content">
      <!-- Dashboard Page -->
      <div id="page-dashboard" class="page active">
        <div class="page-header">
          <h2>Dashboard</h2>
          <p class="page-description">Overview of your Acme Corp workspace</p>
        </div>
        <div class="stats-grid">
          <div class="stat-card">
            <div class="stat-icon">üë•</div>
            <div class="stat-info">
              <span class="stat-value" id="totalUsers">-</span>
              <span class="stat-label">Total Users</span>
            </div>
          </div>
          <div class="stat-card">
            <div class="stat-icon">‚úÖ</div>
            <div class="stat-info">
              <span class="stat-value" id="activeUsers">-</span>
              <span class="stat-label">Active Users</span>
            </div>
          </div>
          <div class="stat-card">
            <div class="stat-icon">üè¢</div>
            <div class="stat-info">
              <span class="stat-value" id="totalTeams">-</span>
              <span class="stat-label">Teams</span>
            </div>
          </div>
          <div class="stat-card">
            <div class="stat-icon">‚è≥</div>
            <div class="stat-info">
              <span class="stat-value" id="pendingUsers">-</span>
              <span class="stat-label">Pending Users</span>
            </div>
          </div>
        </div>
        <div class="dashboard-grid">
          <div class="card">
            <h3>Recent Users</h3>
            <div id="recentUsers" class="list-container">
              <div class="loading">Loading...</div>
            </div>
          </div>
          <div class="card">
            <h3>Teams Overview</h3>
            <div id="teamsOverview" class="list-container">
              <div class="loading">Loading...</div>
            </div>
          </div>
        </div>
      </div>

      <!-- Users Page -->
      <div id="page-users" class="page">
        <div class="page-header">
          <h2>Users</h2>
          <p class="page-description">Manage Acme Corp team members</p>
          <button class="btn btn-primary" onclick="showCreateUserModal()">+ New User</button>
        </div>
        <div class="filters">
          <input type="text" id="userSearch" class="input" placeholder="Search users..." oninput="filterUsers()">
          <select id="userStatusFilter" class="input select" onchange="filterUsers()">
            <option value="">All Statuses</option>
            <option value="active">Active</option>
            <option value="inactive">Inactive</option>
            <option value="pending">Pending</option>
          </select>
        </div>
        <div class="table-container">
          <table class="table">
            <thead>
              <tr>
                <th>Name</th>
                <th>Email</th>
                <th>Role</th>
                <th>Status</th>
                <th>Created</th>
                <th>Actions</th>
              </tr>
            </thead>
            <tbody id="usersTableBody">
              <tr><td colspan="6" class="loading">Loading...</td></tr>
            </tbody>
          </table>
        </div>
      </div>

      <!-- Teams Page -->
      <div id="page-teams" class="page">
        <div class="page-header">
          <h2>Teams</h2>
          <p class="page-description">Manage teams and memberships</p>
          <button class="btn btn-primary" onclick="showCreateTeamModal()">+ New Team</button>
        </div>
        <div id="teamsContainer" class="teams-grid">
          <div class="loading">Loading...</div>
        </div>
      </div>

      <!-- Auth Page -->
      <div id="page-auth" class="page">
        <div class="page-header">
          <h2>Authentication</h2>
          <p class="page-description">Test login and logout functionality</p>
        </div>
        <div class="auth-container">
          <div class="card auth-card">
            <h3>Login</h3>
            <p class="text-muted">Enter an email address to test authentication</p>
            <form onsubmit="handleLogin(event)">
              <div class="form-group">
                <label for="loginEmail">Email</label>
                <input type="email" id="loginEmail" class="input" placeholder="e.g. alice@acme.com" required>
              </div>
              <button type="submit" class="btn btn-primary btn-full">Login</button>
            </form>
            <div id="loginResult" class="result-box hidden"></div>
          </div>
          <div class="card auth-card">
            <h3>Current Session</h3>
            <div id="sessionInfo">
              <p class="text-muted">No active session</p>
            </div>
            <button class="btn btn-secondary btn-full" onclick="handleLogout()" id="logoutBtn" disabled>Logout</button>
            <div id="logoutResult" class="result-box hidden"></div>
          </div>
        </div>
      </div>
    </main>
  </div>

  <!-- Create User Modal -->
  <div id="createUserModal" class="modal hidden">
    <div class="modal-backdrop" onclick="closeModal('createUserModal')"></div>
    <div class="modal-content">
      <div class="modal-header">
        <h3>Create New User</h3>
        <button class="btn-close" onclick="closeModal('createUserModal')">&times;</button>
      </div>
      <form onsubmit="handleCreateUser(event)">
        <div class="form-group">
          <label for="newUserName">Name</label>
          <input type="text" id="newUserName" class="input" placeholder="Full name" required>
        </div>
        <div class="form-group">
          <label for="newUserEmail">Email</label>
          <input type="email" id="newUserEmail" class="input" placeholder="user@acme.com" required>
        </div>
        <div class="form-group">
          <label for="newUserRole">Role</label>
          <select id="newUserRole" class="input select">
            <option value="developer">Developer</option>
            <option value="designer">Designer</option>
            <option value="product_manager">Product Manager</option>
            <option value="admin">Admin</option>
          </select>
        </div>
        <div class="modal-actions">
          <button type="button" class="btn btn-secondary" onclick="closeModal('createUserModal')">Cancel</button>
          <button type="submit" class="btn btn-primary">Create User</button>
        </div>
      </form>
    </div>
  </div>

  <!-- Edit User Modal -->
  <div id="editUserModal" class="modal hidden">
    <div class="modal-backdrop" onclick="closeModal('editUserModal')"></div>
    <div class="modal-content">
      <div class="modal-header">
        <h3>Edit User</h3>
        <button class="btn-close" onclick="closeModal('editUserModal')">&times;</button>
      </div>
      <form onsubmit="handleEditUser(event)">
        <input type="hidden" id="editUserId">
        <div class="form-group">
          <label for="editUserName">Name</label>
          <input type="text" id="editUserName" class="input" required>
        </div>
        <div class="form-group">
          <label for="editUserEmail">Email</label>
          <input type="email" id="editUserEmail" class="input" required>
        </div>
        <div class="form-group">
          <label for="editUserRole">Role</label>
          <select id="editUserRole" class="input select">
            <option value="developer">Developer</option>
            <option value="designer">Designer</option>
            <option value="product_manager">Product Manager</option>
            <option value="admin">Admin</option>
          </select>
        </div>
        <div class="form-group">
          <label for="editUserStatus">Status</label>
          <select id="editUserStatus" class="input select">
            <option value="active">Active</option>
            <option value="inactive">Inactive</option>
            <option value="pending">Pending</option>
          </select>
        </div>
        <div class="modal-actions">
          <button type="button" class="btn btn-secondary" onclick="closeModal('editUserModal')">Cancel</button>
          <button type="submit" class="btn btn-primary">Save Changes</button>
        </div>
      </form>
    </div>
  </div>

  <!-- Create Team Modal -->
  <div id="createTeamModal" class="modal hidden">
    <div class="modal-backdrop" onclick="closeModal('createTeamModal')"></div>
    <div class="modal-content">
      <div class="modal-header">
        <h3>Create New Team</h3>
        <button class="btn-close" onclick="closeModal('createTeamModal')">&times;</button>
      </div>
      <form onsubmit="handleCreateTeam(event)">
        <div class="form-group">
          <label for="newTeamName">Team Name</label>
          <input type="text" id="newTeamName" class="input" placeholder="e.g. Engineering" required>
        </div>
        <div class="modal-actions">
          <button type="button" class="btn btn-secondary" onclick="closeModal('createTeamModal')">Cancel</button>
          <button type="submit" class="btn btn-primary">Create Team</button>
        </div>
      </form>
    </div>
  </div>

  <!-- Add Member Modal -->
  <div id="addMemberModal" class="modal hidden">
    <div class="modal-backdrop" onclick="closeModal('addMemberModal')"></div>
    <div class="modal-content">
      <div class="modal-header">
        <h3>Add Team Member</h3>
        <button class="btn-close" onclick="closeModal('addMemberModal')">&times;</button>
      </div>
      <form onsubmit="handleAddMember(event)">
        <input type="hidden" id="addMemberTeamId">
        <div class="form-group">
          <label for="addMemberUserId">Select User</label>
          <select id="addMemberUserId" class="input select" required>
            <option value="">Choose a user...</option>
          </select>
        </div>
        <div class="modal-actions">
          <button type="button" class="btn btn-secondary" onclick="closeModal('addMemberModal')">Cancel</button>
          <button type="submit" class="btn btn-primary">Add Member</button>
        </div>
      </form>
    </div>
  </div>

  <!-- Toast Container -->
  <div id="toastContainer" class="toast-container"></div>

  <script src="/app.js"></script>
</body>
</html>
